# week11

程序填空题及主观题参考答案在 [ANSWERS.md](ANSWERS.md) 中，编程题参考答案为同目录下的 `.cpp` 文件。

<!-- TOC -->

- [编程题](#编程题)
  - [拓扑排序](#拓扑排序)
  - [最短工期](#最短工期)
  - [关键活动](#关键活动)
  - [校园导游](#校园导游)
- [主观题](#主观题)
  - [Problem 1](#problem-1)
  - [Problem 2](#problem-2)
  - [Problem 3](#problem-3)

<!-- /TOC -->

## 编程题

### 拓扑排序
已知一个有向图，本题目要求完成拓扑排序算法7.12。顶点个数不超过30个。

输入格式:  
输入分三部分:  
第一行是图中顶点的个数、弧的条数；  
接着是每个顶点的信息；  
最后是每一条弧。  

输出格式:  
输出的是顶点的拓扑序列，每个顶点后面有一个空格。不能完成拓扑排序的输出 `error`

输入样例:
```
6 8
v1
v2
v3
v4
v5
v6
v1 v4
v6 v4
v1 v2
v1 v3
v4 v5
v6 v5
v3 v2
v3 v5
```
输出样例:
```
v6 v1 v4 v3 v2 v5 
```

### 最短工期
一个项目由若干个任务组成，任务之间有先后依赖顺序。项目经理需要设置一系列里程碑，在每个里程碑节点处检查任务的完成情况，并启动后续的任务。现给定一个项目中各个任务之间的关系，请你计算出这个项目的最早完工时间。

输入格式:  
首先第一行给出两个正整数：项目里程碑的数量 `N(≤100)` 和任务总数 `M` 。这里的里程碑从 `0` 到 `N−1` 编号。随后 `M` 行，每行给出一项任务的描述，格式为 `任务起始里程碑 任务结束里程碑 工作时长` ，三个数字均为非负整数，以空格分隔。

输出格式:  
如果整个项目的安排是合理可行的，在一行中输出最早完工时间；否则输出 `Impossible` 。

输入样例1:
```
9 12
0 1 6
0 2 4
0 3 5
1 4 1
2 4 1
3 5 2
5 4 0
4 6 9
4 7 7
5 7 4
6 8 2
7 8 4
```
输出样例1:
```
18
```
输入样例2:
```
4 5
0 1 1
0 2 2
2 1 3
1 3 4
3 2 5
```
输出样例2:
```
Impossible
```

### 关键活动
假定一个工程项目由一组子任务构成，子任务之间有的可以并行执行，有的必须在完成了其它一些子任务后才能执行。“任务调度”包括一组子任务、以及每个子任务可以执行所依赖的子任务集。

比如完成一个专业的所有课程学习和毕业设计可以看成一个本科生要完成的一项工程，各门课程可以看成是子任务。有些课程可以同时开设，比如英语和C程序设计，它们没有必须先修哪门的约束；有些课程则不可以同时开设，因为它们有先后的依赖关系，比如C程序设计和数据结构两门课，必须先学习前者。

但是需要注意的是，对一组子任务，并不是任意的任务调度都是一个可行的方案。比如方案中存在“子任务A依赖于子任务B，子任务B依赖于子任务C，子任务C又依赖于子任务A”，那么这三个任务哪个都不能先执行，这就是一个不可行的方案。

任务调度问题中，如果还给出了完成每个子任务需要的时间，则我们可以算出完成整个工程需要的最短时间。在这些子任务中，有些任务即使推迟几天完成，也不会影响全局的工期；但是有些任务必须准时完成，否则整个项目的工期就要因此延误，这种任务就叫“关键活动”。

请编写程序判定一个给定的工程项目的任务调度是否可行；如果该调度方案可行，则计算完成整个工程项目需要的最短时间，并输出所有的关键活动。

输入格式:  
输入第1行给出两个正整数 `N(≤100)` 和 `M` ，其中 `N` 是任务交接点（即衔接相互依赖的两个子任务的节点，例如: 若任务2要在任务1完成后才开始，则两任务之间必有一个交接点）的数量。交接点按 `1, ..., N` 编号， `M` 是子任务的数量，依次编号为 `1, ..., M` 。随后 `M` 行，每行给出了3个正整数，分别是该任务开始和完成涉及的交接点编号以及该任务所需的时间，整数间用空格分隔。

输出格式:  
如果任务调度不可行，则输出 `0` ；否则第1行输出完成整个工程项目需要的时间，第2行开始输出所有关键活动，每个关键活动占一行，按格式 `V->W` 输出，其中 `V` 和 `W` 为该任务开始和完成涉及的交接点编号。关键活动输出的顺序规则是: 任务开始的交接点编号小者优先，起点编号相同时，与输入时任务的顺序相反。

输入样例:
```
7 8
1 2 4
1 3 3
2 4 5
3 4 3
4 5 1
4 6 6
5 7 5
6 7 2
```
输出样例:
```
17
1->2
2->4
4->6
6->7
```

### 校园导游
有一个校园导游图，景点（顶点）个数不超过 `20` 个。景点要包含名称、简介等；边表示路径，存放路径长度。要求能够查询任意两个景点之间最短路径。如果没有路径则输出 `999` .

输入格式:  
输入共4部分:
第一部分给出顶点个数；  
第二部分是各个顶点的值；  
第三部分是邻接矩阵；  
第四部分是用空格隔开的两个顶点，需要输出这两个顶点之间的最短路径。

输出格式:  
在一行中输出顶点之间的最短路径。

输入样例:
```
6
v0
v1
v2
v3
v4
v5
999 999 10 999 30 100
999 999 5 999 999 999
999 999 999 50 999 999
999 999 999 999 999 10
999 999 999 20 999 60
999 999 999 999 999 999
v0 v5
```
输出样例:
```
60
```

## 主观题

### Problem 1
试从空树开始，画出按以下次序向2-3树即3阶B-树中插入关键码的建树过程: `20, 30, 50, 52, 60, 68, 70` 。如果此后删除 `50` 和 `68` ，画出每一步执行后2-3树的状态。

### Problem 2
含10个叶子节点的3阶B-树中至多有多少个非叶子节点？画出这棵树。

### Problem 3
一棵二叉树采用二叉链表结构存储，请判断这棵二叉树是否为二叉排序树。